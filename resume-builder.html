<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Professional Resume Generator</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: Georgia, serif;
            background: linear-gradient(135deg, #FEF7ED 0%, #1E293B 100%);
            min-height: 100vh;
            padding: 20px;
            color: #1E293B;
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: #FEF7ED;
            border-radius: 20px;
            border-left: 5px solid #EA580C;
            box-shadow: 0 20px 60px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .header {
            background: #1E293B;
            color: #FEF7ED;
            padding: 40px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }

        .header p {
            font-size: 1.1rem;
            opacity: 0.9;
        }

        .content {
            padding: 40px;
            background: #FEF7ED;
        }

        .step {
            display: none;
        }

        .step.active {
            display: block;
        }

        .step h2 {
            color: #1E293B;
            font-size: 2.2em;
            margin-bottom: 30px;
            padding-bottom: 10px;
            border-bottom: 3px solid #EA580C;
            font-family: Georgia, serif;
        }

        .form-group {
            margin-bottom: 25px;
        }

        .form-row {
            display: flex;
            gap: 20px;
            margin-bottom: 25px;
        }

        .form-row .form-group {
            flex: 1;
            margin-bottom: 0;
        }

        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #1E293B;
        }

        input, textarea, select {
            width: 100%;
            padding: 12px 16px;
            border: 2px solid #EA580C;
            border-radius: 10px;
            font-size: 16px;
            background: #FEF7ED;
            color: #1E293B;
            font-family: Georgia, serif;
            transition: all 0.3s;
        }

        input:focus, textarea:focus, select:focus {
            outline: none;
            border-color: #059669;
            box-shadow: 0 0 0 3px rgba(5, 150, 105, 0.2);
        }

        textarea {
            min-height: 100px;
            resize: vertical;
        }

        .btn {
            background: linear-gradient(135deg, #EA580C 0%, #059669 100%);
            color: #FEF7ED;
            border: none;
            padding: 15px 30px;
            border-radius: 10px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            font-family: Georgia, serif;
            transition: transform 0.2s;
            box-shadow: 0 4px 15px rgba(234, 88, 12, 0.3);
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(234, 88, 12, 0.4);
        }

        .btn-secondary {
            background: #1E293B;
            margin-right: 15px;
            box-shadow: 0 4px 15px rgba(30, 41, 59, 0.3);
        }

        .step-indicator {
            display: flex;
            justify-content: center;
            margin-bottom: 40px;
        }

        .step-indicator .step-item {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: rgba(234, 88, 12, 0.2);
            border: 2px solid #EA580C;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 10px;
            font-weight: 600;
            color: #EA580C;
            font-family: Georgia, serif;
        }

        .step-indicator .step-item.active {
            background: #EA580C;
            color: #FEF7ED;
        }

        .step-indicator .step-item.completed {
            background: #059669;
            color: #FEF7ED;
            border-color: #059669;
        }

        .template-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 30px;
            margin-bottom: 30px;
        }

        .template-card {
            border: 3px solid #EA580C;
            border-radius: 15px;
            overflow: hidden;
            cursor: pointer;
            transition: all 0.3s;
            background: #FEF7ED;
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
        }

        .template-card:hover {
            border-color: #059669;
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(0,0,0,0.15);
        }

        .template-card.selected {
            border-color: #059669;
            box-shadow: 0 0 0 3px rgba(5, 150, 105, 0.2);
            transform: translateY(-3px);
        }

        .template-preview {
            height: 300px;
            padding: 20px;
            font-size: 10px;
            overflow: hidden;
        }

        .template-name {
            padding: 15px;
            background: rgba(30, 41, 59, 0.05);
            font-weight: 600;
            text-align: center;
            color: #1E293B;
            font-family: Georgia, serif;
            border-top: 2px solid #EA580C;
        }

        .resume-preview {
            background: #FEF7ED;
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
            border-left: 5px solid #EA580C;
            border-radius: 15px;
            margin-bottom: 30px;
            overflow: hidden;
        }

        /* Template Styles */
        .classic-template {
            font-family: Georgia, serif;
            color: #1E293B;
            line-height: 1.6;
            background: #FEF7ED;
        }

        .classic-template .header-section {
            text-align: center;
            padding: 20px;
            border-bottom: 2px solid #1E293B;
            background: #FEF7ED;
        }

        .classic-template h1 {
            font-size: 24px;
            margin-bottom: 5px;
            color: #1E293B;
        }

        .classic-template .contact-info {
            font-size: 12px;
            margin-top: 10px;
            color: #EA580C;
        }

        .classic-template .section {
            padding: 15px 20px;
        }

        .classic-template .section h2 {
            font-size: 16px;
            border-bottom: 1px solid #1E293B;
            margin-bottom: 10px;
            text-transform: uppercase;
            color: #1E293B;
        }

        .modern-template {
            font-family: Georgia, serif;
            color: #1E293B;
            line-height: 1.5;
            background: #FEF7ED;
        }

        .modern-template .header-section {
            background: linear-gradient(135deg, #EA580C 0%, #059669 100%);
            color: #FEF7ED;
            padding: 25px;
        }

        .modern-template h1 {
            font-size: 26px;
            margin-bottom: 8px;
            color: #FEF7ED;
        }

        .modern-template .contact-info {
            font-size: 12px;
            color: #FEF7ED;
        }

        .modern-template .section {
            padding: 20px;
        }

        .modern-template .section h2 {
            color: #EA580C;
            font-size: 18px;
            margin-bottom: 15px;
            border-left: 4px solid #EA580C;
            padding-left: 10px;
        }

        .creative-template {
            font-family: Georgia, serif;
            color: #1E293B;
            background: linear-gradient(45deg, #FEF7ED 0%, rgba(234, 88, 12, 0.05) 100%);
        }

        .creative-template .header-section {
            background: linear-gradient(135deg, #059669 0%, #EA580C 100%);
            color: #FEF7ED;
            padding: 30px;
            clip-path: polygon(0 0, 100% 0, 100% 85%, 0 100%);
        }

        .creative-template h1 {
            font-size: 28px;
            margin-bottom: 10px;
            color: #FEF7ED;
        }

        .creative-template .section {
            padding: 20px;
        }

        .creative-template .section h2 {
            color: #EA580C;
            font-size: 18px;
            margin-bottom: 15px;
            position: relative;
        }

        .creative-template .section h2::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 50px;
            height: 3px;
            background: linear-gradient(135deg, #EA580C 0%, #059669 100%);
        }

        .minimal-template {
            font-family: Georgia, serif;
            color: #1E293B;
            line-height: 1.7;
            background: #FEF7ED;
        }

        .minimal-template .header-section {
            padding: 40px 30px;
            border-bottom: 1px solid rgba(234, 88, 12, 0.3);
        }

        .minimal-template h1 {
            font-size: 32px;
            font-weight: 300;
            margin-bottom: 10px;
            color: #1E293B;
        }

        .minimal-template .contact-info {
            font-size: 14px;
            color: #059669;
        }

        .minimal-template .section {
            padding: 25px 30px;
        }

        .minimal-template .section h2 {
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 20px;
            text-transform: uppercase;
            letter-spacing: 1px;
            color: #EA580C;
        }

        .job-entry, .education-entry {
            margin-bottom: 15px;
        }

        .job-title, .degree {
            font-weight: 600;
            font-size: 14px;
            color: #1E293B;
        }

        .company, .school {
            font-style: italic;
            color: #059669;
            font-size: 13px;
        }

        .dates {
            float: right;
            font-size: 12px;
            color: #EA580C;
        }

        .description {
            font-size: 12px;
            margin-top: 5px;
            color: #1E293B;
        }

        .skills-list {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }

        .skill-tag {
            background: rgba(234, 88, 12, 0.1);
            border: 1px solid #EA580C;
            color: #EA580C;
            padding: 5px 10px;
            border-radius: 15px;
            font-size: 11px;
        }

        .download-btn {
            background: linear-gradient(135deg, #059669 0%, #EA580C 100%);
            font-size: 18px;
            padding: 20px 40px;
            box-shadow: 0 8px 25px rgba(5, 150, 105, 0.3);
        }

        @media print {
            body { background: #FEF7ED; padding: 0; }
            .container { box-shadow: none; }
            .header, .content { background: #FEF7ED; }
            .btn { display: none; }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Professional Resume Generator</h1>
            <p>Create your perfect resume in minutes with our beautiful templates</p>
        </div>

        <div class="content">
            <div class="step-indicator">
                <div class="step-item active" data-step="1">1</div>
                <div class="step-item" data-step="2">2</div>
                <div class="step-item" data-step="3">3</div>
                <div class="step-item" data-step="4">4</div>
                <div class="step-item" data-step="5">5</div>
                <div class="step-item" data-step="6">6</div>
            </div>

            <!-- Step 1: Personal Information -->
            <div class="step active" id="step1">
                <h2>Personal Information</h2>
                <div class="form-row">
                    <div class="form-group">
                        <label>Full Name *</label>
                        <input type="text" id="fullName" required>
                    </div>
                    <div class="form-group">
                        <label>Professional Title *</label>
                        <input type="text" id="jobTitle" placeholder="e.g., Software Engineer">
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label>Email Address *</label>
                        <input type="email" id="email" required>
                    </div>
                    <div class="form-group">
                        <label>Phone Number *</label>
                        <input type="tel" id="phone" required>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label>City, State</label>
                        <input type="text" id="location" placeholder="e.g., New York, NY">
                    </div>
                    <div class="form-group">
                        <label>LinkedIn Profile</label>
                        <input type="url" id="linkedin" placeholder="https://linkedin.com/in/yourprofile">
                    </div>
                </div>
                <div class="form-group">
                    <label>Professional Summary</label>
                    <textarea id="summary" placeholder="Brief overview of your professional background and key strengths..."></textarea>
                </div>
                <button class="btn" onclick="nextStep()">Next Step</button>
            </div>

            <!-- Step 2: Work Experience -->
            <div class="step" id="step2">
                <h2>Work Experience</h2>
                <div id="workExperience">
                    <div class="job-form">
                        <div class="form-row">
                            <div class="form-group">
                                <label>Job Title</label>
                                <input type="text" class="jobTitle" placeholder="e.g., Senior Software Engineer">
                            </div>
                            <div class="form-group">
                                <label>Company</label>
                                <input type="text" class="company" placeholder="e.g., Google Inc.">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label>Start Date</label>
                                <input type="text" class="startDate" placeholder="e.g., January 2020">
                            </div>
                            <div class="form-group">
                                <label>End Date</label>
                                <input type="text" class="endDate" placeholder="e.g., Present">
                            </div>
                        </div>
                        <div class="form-group">
                            <label>Job Description & Achievements</label>
                            <textarea class="jobDescription" placeholder="Describe your responsibilities and key achievements..."></textarea>
                        </div>
                    </div>
                </div>
                <button class="btn-secondary btn" onclick="addJob()">Add Another Job</button>
                <div style="margin-top: 20px;">
                    <button class="btn-secondary btn" onclick="prevStep()">Previous</button>
                    <button class="btn" onclick="nextStep()">Next Step</button>
                </div>
            </div>

            <!-- Step 3: Education -->
            <div class="step" id="step3">
                <h2>Education</h2>
                <div id="education">
                    <div class="education-form">
                        <div class="form-row">
                            <div class="form-group">
                                <label>Degree</label>
                                <input type="text" class="degree" placeholder="e.g., Bachelor of Science in Computer Science">
                            </div>
                            <div class="form-group">
                                <label>School</label>
                                <input type="text" class="school" placeholder="e.g., Stanford University">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label>Graduation Year</label>
                                <input type="text" class="gradYear" placeholder="e.g., 2018">
                            </div>
                            <div class="form-group">
                                <label>GPA (optional)</label>
                                <input type="text" class="gpa" placeholder="e.g., 3.8/4.0">
                            </div>
                        </div>
                    </div>
                </div>
                <button class="btn-secondary btn" onclick="addEducation()">Add Another Degree</button>
                <div style="margin-top: 20px;">
                    <button class="btn-secondary btn" onclick="prevStep()">Previous</button>
                    <button class="btn" onclick="nextStep()">Next Step</button>
                </div>
            </div>

            <!-- Step 4: Skills -->
            <div class="step" id="step4">
                <h2>Skills & Competencies</h2>
                <div class="form-group">
                    <label>Technical Skills</label>
                    <textarea id="technicalSkills" placeholder="e.g., JavaScript, Python, React, Node.js, SQL, AWS..."></textarea>
                </div>
                <div class="form-group">
                    <label>Soft Skills</label>
                    <textarea id="softSkills" placeholder="e.g., Leadership, Communication, Problem Solving, Team Collaboration..."></textarea>
                </div>
                <div class="form-group">
                    <label>Languages</label>
                    <textarea id="languages" placeholder="e.g., English (Native), Spanish (Fluent), French (Conversational)..."></textarea>
                </div>
                <div class="form-group">
                    <label>Certifications</label>
                    <textarea id="certifications" placeholder="e.g., AWS Certified Solutions Architect, PMP, Google Analytics Certified..."></textarea>
                </div>
                <div style="margin-top: 20px;">
                    <button class="btn-secondary btn" onclick="prevStep()">Previous</button>
                    <button class="btn" onclick="nextStep()">Next Step</button>
                </div>
            </div>

            <!-- Step 5: Template Selection -->
            <div class="step" id="step5">
                <h2>Choose Your Template</h2>
                <div class="template-grid">
                    <div class="template-card" onclick="selectTemplate('classic')">
                        <div class="template-preview classic-template">
                            <div class="header-section">
                                <h1>John Doe</h1>
                                <div class="contact-info">john.doe@email.com • (555) 123-4567</div>
                            </div>
                            <div class="section">
                                <h2>Experience</h2>
                                <div class="job-entry">
                                    <div class="job-title">Senior Developer</div>
                                    <div class="company">Tech Corp</div>
                                </div>
                            </div>
                        </div>
                        <div class="template-name">Classic Professional</div>
                    </div>

                    <div class="template-card" onclick="selectTemplate('modern')">
                        <div class="template-preview modern-template">
                            <div class="header-section">
                                <h1>John Doe</h1>
                                <div class="contact-info">john.doe@email.com • (555) 123-4567</div>
                            </div>
                            <div class="section">
                                <h2>Experience</h2>
                                <div class="job-entry">
                                    <div class="job-title">Senior Developer</div>
                                    <div class="company">Tech Corp</div>
                                </div>
                            </div>
                        </div>
                        <div class="template-name">Modern Gradient</div>
                    </div>

                    <div class="template-card" onclick="selectTemplate('creative')">
                        <div class="template-preview creative-template">
                            <div class="header-section">
                                <h1>John Doe</h1>
                                <div class="contact-info">john.doe@email.com • (555) 123-4567</div>
                            </div>
                            <div class="section">
                                <h2>Experience</h2>
                                <div class="job-entry">
                                    <div class="job-title">Senior Developer</div>
                                    <div class="company">Tech Corp</div>
                                </div>
                            </div>
                        </div>
                        <div class="template-name">Creative Colorful</div>
                    </div>

                    <div class="template-card" onclick="selectTemplate('minimal')">
                        <div class="template-preview minimal-template">
                            <div class="header-section">
                                <h1>John Doe</h1>
                                <div class="contact-info">john.doe@email.com • (555) 123-4567</div>
                            </div>
                            <div class="section">
                                <h2>Experience</h2>
                                <div class="job-entry">
                                    <div class="job-title">Senior Developer</div>
                                    <div class="company">Tech Corp</div>
                                </div>
                            </div>
                        </div>
                        <div class="template-name">Minimal Clean</div>
                    </div>
                </div>
                <div style="margin-top: 20px;">
                    <button class="btn-secondary btn" onclick="prevStep()">Previous</button>
                    <button class="btn" onclick="generateResume()" id="generateBtn" style="display: none;">Generate Resume</button>
                </div>
            </div>

            <!-- Step 6: Final Resume -->
            <div class="step" id="step6">
                <h2>Your Resume is Ready!</h2>
                <div class="resume-preview" id="resumePreview"></div>
                <div style="text-align: center; margin-top: 30px;">
                    <button class="btn-secondary btn" onclick="prevStep()">Go Back</button>
                    <button class="btn download-btn" onclick="downloadResume()">Download Resume</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        let currentStep = 1;
        let selectedTemplate = null;
        let resumeData = {};

        function nextStep() {
            if (validateCurrentStep()) {
                collectCurrentStepData();
                if (currentStep < 6) {
                    currentStep++;
                    showStep(currentStep);
                }
            }
        }

        function prevStep() {
            if (currentStep > 1) {
                currentStep--;
                showStep(currentStep);
            }
        }

        function showStep(step) {
            document.querySelectorAll('.step').forEach(s => s.classList.remove('active'));
            document.getElementById(`step${step}`).classList.add('active');
            
            document.querySelectorAll('.step-indicator .step-item').forEach((item, index) => {
                item.classList.remove('active', 'completed');
                if (index + 1 < step) {
                    item.classList.add('completed');
                } else if (index + 1 === step) {
                    item.classList.add('active');
                }
            });
        }

        function validateCurrentStep() {
            const step = document.getElementById(`step${currentStep}`);
            const requiredFields = step.querySelectorAll('input[required]');
            
            for (let field of requiredFields) {
                if (!field.value.trim()) {
                    field.focus();
                    alert('Please fill in all required fields.');
                    return false;
                }
            }
            return true;
        }

        function collectCurrentStepData() {
            switch(currentStep) {
                case 1:
                    resumeData.personal = {
                        fullName: document.getElementById('fullName').value,
                        jobTitle: document.getElementById('jobTitle').value,
                        email: document.getElementById('email').value,
                        phone: document.getElementById('phone').value,
                        location: document.getElementById('location').value,
                        linkedin: document.getElementById('linkedin').value,
                        summary: document.getElementById('summary').value
                    };
                    break;
                case 2:
                    resumeData.experience = [];
                    document.querySelectorAll('.job-form').forEach(job => {
                        const jobData = {
                            title: job.querySelector('.jobTitle').value,
                            company: job.querySelector('.company').value,
                            startDate: job.querySelector('.startDate').value,
                            endDate: job.querySelector('.endDate').value,
                            description: job.querySelector('.jobDescription').value
                        };
                        if (jobData.title || jobData.company) {
                            resumeData.experience.push(jobData);
                        }
                    });
                    break;
                case 3:
                    resumeData.education = [];
                    document.querySelectorAll('.education-form').forEach(edu => {
                        const eduData = {
                            degree: edu.querySelector('.degree').value,
                            school: edu.querySelector('.school').value,
                            year: edu.querySelector('.gradYear').value,
                            gpa: edu.querySelector('.gpa').value
                        };
                        if (eduData.degree || eduData.school) {
                            resumeData.education.push(eduData);
                        }
                    });
                    break;
                case 4:
                    resumeData.skills = {
                        technical: document.getElementById('technicalSkills').value,
                        soft: document.getElementById('softSkills').value,
                        languages: document.getElementById('languages').value,
                        certifications: document.getElementById('certifications').value
                    };
                    break;
            }
        }

        function addJob() {
            const jobForm = document.createElement('div');
            jobForm.className = 'job-form';
            jobForm.innerHTML = `
                <hr style="margin: 20px 0;">
                <div class="form-row">
                    <div class="form-group">
                        <label>Job Title</label>
                        <input type="text" class="jobTitle" placeholder="e.g., Software Engineer">
                    </div>
                    <div class="form-group">
                        <label>Company</label>
                        <input type="text" class="company" placeholder="e.g., Microsoft">
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label>Start Date</label>
                        <input type="text" class="startDate" placeholder="e.g., June 2018">
                    </div>
                    <div class="form-group">
                        <label>End Date</label>
                        <input type="text" class="endDate" placeholder="e.g., January 2020">
                    </div>
                </div>
                <div class="form-group">
                    <label>Job Description & Achievements</label>
                    <textarea class="jobDescription" placeholder="Describe your responsibilities and key achievements..."></textarea>
                </div>
            `;
            document.getElementById('workExperience').appendChild(jobForm);
        }

        function addEducation() {
            const eduForm = document.createElement('div');
            eduForm.className = 'education-form';
            eduForm.innerHTML = `
                <hr style="margin: 20px 0;">
                <div class="form-row">
                    <div class="form-group">
                        <label>Degree</label>
                        <input type="text" class="degree" placeholder="e.g., Master of Business Administration">
                    </div>
                    <div class="form-group">
                        <label>School</label>
                        <input type="text" class="school" placeholder="e.g., Harvard Business School">
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label>Graduation Year</label>
                        <input type="text" class="gradYear" placeholder="e.g., 2020">
                    </div>
                    <div class="form-group">
                        <label>GPA (optional)</label>
                        <input type="text" class="gpa" placeholder="e.g., 3.9/4.0">
                    </div>
                </div>
            `;
            document.getElementById('education').appendChild(eduForm);
        }

        function selectTemplate(template) {
            selectedTemplate = template;
            document.querySelectorAll('.template-card').forEach(card => {
                card.classList.remove('selected');
            });
            event.currentTarget.classList.add('selected');
            document.getElementById('generateBtn').style.display = 'inline-block';
        }

        function generateResume() {
            if (!selectedTemplate) {
                alert('Please select a template first.');
                return;
            }
            
            collectCurrentStepData();
            const resume = createResumeHTML();
            document.getElementById('resumePreview').innerHTML = resume;
            nextStep();
        }

        function createResumeHTML() {
            const data = resumeData;
            const templateClass = `${selectedTemplate}-template`;
            
            let html = `<div class="${templateClass}">`;
            
            // Header
            html += `
                <div class="header-section">
                    <h1>${data.personal.fullName}</h1>
                    <div style="font-size: 16px; margin-bottom: 10px;">${data.personal.jobTitle}</div>
                    <div class="contact-info">
                        ${data.personal.email} • ${data.personal.phone}
                        ${data.personal.location ? ` • ${data.personal.location}` : ''}
                        ${data.personal.linkedin ? ` • ${data.personal.linkedin}` : ''}
                    </div>
                </div>
            `;

            // Professional Summary
            if (data.personal.summary) {
                html += `
                    <div class="section">
                        <h2>Professional Summary</h2>
                        <p>${data.personal.summary}</p>
                    </div>
                `;
            }

            // Experience
            if (data.experience && data.experience.length > 0) {
                html += `<div class="section"><h2>Professional Experience</h2>`;
                data.experience.forEach(job => {
                    if (job.title || job.company) {
                        html += `
                            <div class="job-entry">
                                <div style="overflow: hidden;">
                                    <div class="job-title" style="float: left;">${job.title}</div>
                                    <div class="dates">${job.startDate} - ${job.endDate}</div>
                                </div>
                                <div class="company">${job.company}</div>
                                ${job.description ? `<div class="description">${job.description}</div>` : ''}
                            </div>
                        `;
                    }
                });
                html += `</div>`;
            }

            // Education
            if (data.education && data.education.length > 0) {
                html += `<div class="section"><h2>Education</h2>`;
                data.education.forEach(edu => {
                    if (edu.degree || edu.school) {
                        html += `
                            <div class="education-entry">
                                <div style="overflow: hidden;">
                                    <div class="degree" style="float: left;">${edu.degree}</div>
                                    <div class="dates">${edu.year}</div>
                                </div>
                                <div class="school">${edu.school}</div>
                                ${edu.gpa ? `<div style="font-size: 12px;">GPA: ${edu.gpa}</div>` : ''}
                            </div>
                        `;
                    }
                });
                html += `</div>`;
            }

            // Skills
            if (data.skills.technical || data.skills.soft) {
                html += `<div class="section"><h2>Skills</h2>`;
                if (data.skills.technical) {
                    html += `<div style="margin-bottom: 10px;"><strong>Technical Skills:</strong> ${data.skills.technical}</div>`;
                }
                if (data.skills.soft) {
                    html += `<div style="margin-bottom: 10px;"><strong>Soft Skills:</strong> ${data.skills.soft}</div>`;
                }
                if (data.skills.languages) {
                    html += `<div style="margin-bottom: 10px;"><strong>Languages:</strong> ${data.skills.languages}</div>`;
                }
                if (data.skills.certifications) {
                    html += `<div><strong>Certifications:</strong> ${data.skills.certifications}</div>`;
                }
                html += `</div>`;
            }

            html += `</div>`;
            return html;
        }

        function downloadResume() {
            const resumeContent = document.getElementById('resumePreview').innerHTML;
            const fullHTML = `
                <!DOCTYPE html>
                <html>
                <head>
                    <meta charset="UTF-8">
                    <title>${resumeData.personal.fullName} - Resume</title>
                    <style>
                        ${getTemplateStyles()}
                        body { font-family: Georgia, serif; margin: 0; padding: 20px; background: #FEF7ED; color: #1E293B; }
                        .job-entry, .education-entry { margin-bottom: 15px; }
                        .job-title, .degree { font-weight: 600; font-size: 14px; color: #1E293B; }
                        .company, .school { font-style: italic; color: #059669; font-size: 13px; }
                        .dates { float: right; font-size: 12px; color: #EA580C; }
                        .description { font-size: 12px; margin-top: 5px; color: #1E293B; }
                        @media print { body { padding: 0; background: #FEF7ED; } }
                    </style>
                </head>
                <body>
                    ${resumeContent}
                </body>
                </html>
            `;

            const blob = new Blob([fullHTML], { type: 'text/html' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `${resumeData.personal.fullName.replace(/\s+/g, '_')}_Resume.html`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        }

        function getTemplateStyles() {
            return `
                .classic-template { font-family: Georgia, serif; color: #1E293B; line-height: 1.6; background: #FEF7ED; }
                .classic-template .header-section { text-align: center; padding: 20px; border-bottom: 2px solid #1E293B; background: #FEF7ED; }
                .classic-template h1 { font-size: 24px; margin-bottom: 5px; color: #1E293B; }
                .classic-template .contact-info { font-size: 12px; margin-top: 10px; color: #EA580C; }
                .classic-template .section { padding: 15px 20px; }
                .classic-template .section h2 { font-size: 16px; border-bottom: 1px solid #1E293B; margin-bottom: 10px; text-transform: uppercase; color: #1E293B; }

                .modern-template { font-family: Georgia, serif; color: #1E293B; line-height: 1.5; background: #FEF7ED; }
                .modern-template .header-section { background: linear-gradient(135deg, #EA580C 0%, #059669 100%); color: #FEF7ED; padding: 25px; }
                .modern-template h1 { font-size: 26px; margin-bottom: 8px; color: #FEF7ED; }
                .modern-template .contact-info { font-size: 12px; color: #FEF7ED; }
                .modern-template .section { padding: 20px; }
                .modern-template .section h2 { color: #EA580C; font-size: 18px; margin-bottom: 15px; border-left: 4px solid #EA580C; padding-left: 10px; }

                .creative-template { font-family: Georgia, serif; color: #1E293B; background: linear-gradient(45deg, #FEF7ED 0%, rgba(234, 88, 12, 0.05) 100%); }
                .creative-template .header-section { background: linear-gradient(135deg, #059669 0%, #EA580C 100%); color: #FEF7ED; padding: 30px; }
                .creative-template h1 { font-size: 28px; margin-bottom: 10px; color: #FEF7ED; }
                .creative-template .section { padding: 20px; }
                .creative-template .section h2 { color: #EA580C; font-size: 18px; margin-bottom: 15px; position: relative; }
                .creative-template .section h2::after { content: ''; position: absolute; bottom: -5px; left: 0; width: 50px; height: 3px; background: linear-gradient(135deg, #EA580C 0%, #059669 100%); }

                .minimal-template { font-family: Georgia, serif; color: #1E293B; line-height: 1.7; background: #FEF7ED; }
                .minimal-template .header-section { padding: 40px 30px; border-bottom: 1px solid rgba(234, 88, 12, 0.3); }
                .minimal-template h1 { font-size: 32px; font-weight: 300; margin-bottom: 10px; color: #1E293B; }
                .minimal-template .contact-info { font-size: 14px; color: #059669; }
                .minimal-template .section { padding: 25px 30px; }
                .minimal-template .section h2 { font-size: 16px; font-weight: 600; margin-bottom: 20px; text-transform: uppercase; letter-spacing: 1px; color: #EA580C; }
            `;
        }
    </script>
</body>
</html>
